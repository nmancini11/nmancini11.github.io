!function($){$.fn.circliful=function(t,i){var e=$.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10},t);return this.each(function(){function i(){$(u).attr("width",$(x).width()),"half"==W?$(u).attr("height",$(x).height()/2):$(u).attr("height",$(x).height())}function a(t,i,e){$("<span></span>").appendTo(t).addClass(i).text(f).prepend(r).css({"line-height":e+"px","font-size":h.fontsize+"px"})}function n(t,i){$("<span></span>").appendTo(t).addClass("circle-info-half").css("line-height",h.dimension*i+"px").text(g)}function o(t){$.each(s,function(i,a){h[a]=void 0!=t.data(a)?t.data(a):$(e).attr(a),"fill"==a&&void 0!=t.data("fill")&&(p=!0)})}function d(i){v.clearRect(0,0,u.width,u.height),v.beginPath(),v.arc(b,w,P,I,M,!1),v.lineWidth=h.bordersize+1,v.strokeStyle=h.bgcolor,v.stroke(),p&&(v.fillStyle=h.fill,v.fill()),v.beginPath(),v.arc(b,w,P,-T+q,S*i-T+q,!1),"outline"==h.border?v.lineWidth=h.width+13:"inline"==h.border&&(v.lineWidth=h.width-13),v.strokeStyle=h.fgcolor,v.stroke(),c>k&&(k+=F,requestAnimationFrame(function(){d(Math.min(k,c)/100)},l)),k==c&&j&&"undefined"!=typeof t&&$.isFunction(t.complete)&&(t.complete(),j=!1)}var s=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"],h={},r="",c=0,l=$(this),p=!1,f,g;if(l.addClass("circliful"),o(l),void 0!=l.data("text")&&(f=l.data("text"),void 0!=l.data("icon")&&(r=$("<i></i>").addClass("fa "+$(this).data("icon")).css({color:h.iconcolor,"font-size":h.iconsize})),void 0!=l.data("type")?(W=$(this).data("type"),"half"==W?a(l,"circle-text-half",h.dimension/1.45):a(l,"circle-text",h.dimension)):a(l,"circle-text",h.dimension)),void 0!=$(this).data("total")&&void 0!=$(this).data("part")){var m=$(this).data("total")/100;percent=($(this).data("part")/m/100).toFixed(3),c=($(this).data("part")/m).toFixed(3)}else void 0!=$(this).data("percent")?(percent=$(this).data("percent")/100,c=$(this).data("percent")):percent=e.percent/100;void 0!=$(this).data("info")&&(g=$(this).data("info"),void 0!=$(this).data("type")?(W=$(this).data("type"),"half"==W?n(l,.9):n(l,1.25)):n(l,1.25)),$(this).width(h.dimension+"px");var u=$("<canvas></canvas>").attr({width:h.dimension,height:h.dimension}).appendTo($(this)).get(0),v=u.getContext("2d"),x=$(u).parent(),b=u.width/2,w=u.height/2,y=360*h.percent,z=y*(Math.PI/180),P=u.width/2.5,M=2.3*Math.PI,I=0,C=!1,k=0===h.animationstep?c:0,F=Math.max(h.animationstep,0),S=2*Math.PI,T=Math.PI/2,W="",j=!0,q=h.startdegree/180*Math.PI;void 0!=$(this).data("type")&&(W=$(this).data("type"),"half"==W&&(M=2*Math.PI,I=3.13,S=Math.PI,T=Math.PI/.996)),i(),d(k/100)})}}(jQuery);